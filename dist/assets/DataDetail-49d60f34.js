var M=Object.defineProperty,O=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var L=(s,t,a)=>t in s?M(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,D=(s,t)=>{for(var a in t||(t={}))Q.call(t,a)&&L(s,a,t[a]);if(k)for(var a of k(t))H.call(t,a)&&L(s,a,t[a]);return s},E=(s,t)=>O(s,N(t));var u=(s,t,a)=>new Promise((P,m)=>{var r=l=>{try{h(a.next(l))}catch(c){m(c)}},f=l=>{try{h(a.throw(l))}catch(c){m(c)}},h=l=>l.done?P(l.value):Promise.resolve(l.value).then(r,f);h((a=a.apply(s,t)).next())});import{_ as B,m as C,d as q,e as F,j as G,r as S,o,c as d,a as e,t as n,i as p,b as w,w as T,f as K,n as v,g as I,F as b,h as V,k as j}from"./index-344b4d31.js";import{M as z}from"./ModalProviderDetail-af348d7e.js";const J={name:"DataAdminProviderDetail",components:{ModalProviderDetail:z},data(){return{providerId:this.$route.params.id,idInstanceActive:null}},created(){this.getProvider(this.$route.params.id),this.getDataProviderDetails(this.$route.params.id)},computed:D(D(D({},C(["processing"])),C("provider",["providerDetails"])),q("provider",["providers","dataProviderDetails","pagination"])),methods:E(D(D({},F("provider",["getProvider","getDataProviderDetails","getStatusProviderDetails","refreshProviderDetails","getQRProviderDetails","redeployProviderDetails","getScreenshotProviderDetails"])),G("provider",["CLEAR_PROVIDER_DETAIL"])),{openModal(s){return u(this,null,function*(){this.idInstanceActive=s;try{this.CLEAR_PROVIDER_DETAIL(),$("#modal-xl").modal("show"),yield this.getStatusProviderDetails({id_instance:s})}catch(t){console.error("Gagal ambil detail:",t)}})},refreshInstance(){return u(this,null,function*(){this.CLEAR_PROVIDER_DETAIL(),yield this.refreshProviderDetails({id_instance:this.idInstanceActive})})},getQRInstance(){this.CLEAR_PROVIDER_DETAIL(),this.getQRProviderDetails({id_instance:this.idInstanceActive}).catch(s=>{console.log(s),this.$swal({icon:"error",title:"Oops...",text:s.data.message?s.data.message:"Something went wrong!"})})},statusInstance(){return u(this,null,function*(){this.CLEAR_PROVIDER_DETAIL(),yield this.getStatusProviderDetails({id_instance:this.idInstanceActive}),yield this.getDataProviderDetails(this.providerId)})},redeployInstance(){return u(this,null,function*(){this.CLEAR_PROVIDER_DETAIL(),yield this.redeployProviderDetails({id_instance:this.idInstanceActive})})},getScreenshotInstance(){return u(this,null,function*(){this.CLEAR_PROVIDER_DETAIL(),yield this.getScreenshotProviderDetails({id_instance:this.idInstanceActive})})},refreshPage(){return u(this,null,function*(){this.CLEAR_PROVIDER_DETAIL(),yield this.getDataProviderDetails(this.providerId)})}})},U={class:"card"},W={class:"card-header"},X={class:"card-title"},Y={key:0,class:"overlay dark"},Z={class:"table table-hover text-nowrap table-striped"},x={class:"text-right"},ee=["onClick"],te={class:"card-footer clearfix"},se={class:"pagination pagination-sm m-0 float-right"},ie=["onClick"],ae={key:0},ne={key:1},re={key:2},le=["innerHTML"],oe={key:3},de=["innerHTML"];function pe(s,t,a,P,m,r){var l,c;const f=S("router-link"),h=S("ModalProviderDetail");return o(),d(b,null,[e("div",U,[e("div",W,[e("h3",X,"Provider "+n((l=s.providers)==null?void 0:l.name),1),t[5]||(t[5]=p("   ")),w(f,{class:"btn bg-gradient-primary btn-sm",to:{name:"admins.providers.data.detail.insert",params:{id:(c=s.providers)==null?void 0:c.id}}},{default:T(()=>t[3]||(t[3]=[p("   "),e("i",{class:"fas fa-plus"},null,-1),p(" Create Data ")])),_:1},8,["to"]),t[6]||(t[6]=p("   ")),e("button",{class:"btn bg-gradient-success btn-sm",onClick:t[0]||(t[0]=(...i)=>r.refreshPage&&r.refreshPage(...i))},t[4]||(t[4]=[e("i",{class:"fas fa-refresh"},null,-1),p(" Refresh ")])),t[7]||(t[7]=K('<div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div>',1))]),e("div",{class:v(["card-body table-responsive p-0",{"overlay-wrapper":this.processing}])},[this.processing?(o(),d("div",Y,t[8]||(t[8]=[e("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1)]))):I("",!0),e("table",Z,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Nama"),e("th",null,"License Key"),e("th",null,"Info HP"),e("th",null,"Label"),e("th",null,"Deskripsi"),e("th",null,"Status"),e("th")])],-1)),e("tbody",null,[(o(!0),d(b,null,V(s.dataProviderDetails,(i,g)=>{var y,_,R,A;return o(),d("tr",{key:g,class:v(`provider_${i.id}`)},[e("td",null,n(g+1),1),e("td",null,n(i.name),1),e("td",null,n((y=i.license_key)!=null?y:"-"),1),e("td",null,n((_=i.info_hp)!=null?_:"-"),1),e("td",null,n((R=i.label)!=null?R:"-"),1),e("td",null,n((A=i.description)!=null?A:"-"),1),e("td",null,[e("span",{class:v(["badge",i.is_active?"badge-success":"badge-danger"])},n(i.is_active?"Active":"Disable"),3)]),e("td",x,[e("a",{class:"btn btn-primary btn-sm",href:"#",onClick:j(ue=>r.openModal(i.license_key),["prevent"])},t[9]||(t[9]=[e("i",{class:"fas fa-folder"},null,-1),p(" Info ")]),8,ee)])],2)}),128))])])],2),e("div",te,[e("ul",se,[e("li",{class:v(["page-item",{disabled:s.pagination.current_page===1}])},[e("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=i=>s.getProviderDetails(s.pagination.current_page-1))}," « ")],2),(o(!0),d(b,null,V(s.pagination.last_page,i=>(o(),d("li",{key:i,class:v(["page-item",{active:i===s.pagination.current_page}])},[e("a",{class:"page-link",href:"#",onClick:g=>s.getProviderDetails(i)},n(i),9,ie)],2))),128)),e("li",{class:v(["page-item",{disabled:s.pagination.current_page===s.pagination.last_page}])},[e("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=i=>s.getProviderDetails(s.pagination.current_page+1))},"»")],2)])])]),w(h,{id:"modal-xl",title:"Detail Provider",instanceId:this.idInstanceActive,onRefresh:r.refreshInstance,onQr:r.getQRInstance,onStatus:r.statusInstance,onRedeploy:r.redeployInstance,onScreenshot:r.getScreenshotInstance},{body:T(()=>{var i,g;return[s.providerDetails?(o(),d("div",ae,[e("p",null,[t[11]||(t[11]=e("strong",null,"ID:",-1)),p(" "+n(s.providerDetails.provider_detail.id),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"License Key:",-1)),p(" "+n(s.providerDetails.provider_detail.license_key),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Label:",-1)),p(" "+n(s.providerDetails.provider_detail.label),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Status:",-1)),e("span",{class:v(["badge",s.providerDetails.provider_detail.is_active?"badge-success":"badge-danger"])},n(s.providerDetails.provider_detail.is_active?"Active":"Disable"),3)])])):(o(),d("div",ne,t[15]||(t[15]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),p(" Loading... ")]))),(i=s.providerDetails)!=null&&i.qr_instance?(o(),d("div",re,[t[16]||(t[16]=e("p",null,[e("strong",null,"QR Instance:")],-1)),e("div",{innerHTML:s.providerDetails.qr_instance},null,8,le)])):I("",!0),(g=s.providerDetails)!=null&&g.ss_instance?(o(),d("div",oe,[t[17]||(t[17]=e("p",null,[e("strong",null,"Screenshot Instance:")],-1)),e("div",{innerHTML:s.providerDetails.ss_instance},null,8,de)])):I("",!0)]}),_:1},8,["instanceId","onRefresh","onQr","onStatus","onRedeploy","onScreenshot"])],64)}const De=B(J,[["render",pe]]);export{De as default};
