import{_ as y,m as D,d as _,e as R,j as A,r as h,o as n,c as r,a as e,t as a,i as l,b as m,w as f,f as k,n as d,g as u,F as v,h as I,k as L}from"./index-c8454fb3.js";import{M as E}from"./ModalProviderDetail-e7a4dce3.js";const C={name:"DataAdminProviderDetail",components:{ModalProviderDetail:E},data(){return{providerId:this.$route.params.id,idInstanceActive:null}},created(){this.getProvider(this.$route.params.id),this.getDataProviderDetails(this.$route.params.id)},computed:{...D(["processing"]),...D("provider",["providerDetails"]),..._("provider",["providers","dataProviderDetails","pagination"])},methods:{...R("provider",["getProvider","getDataProviderDetails","getStatusProviderDetails","refreshProviderDetails","getQRProviderDetails","redeployProviderDetails","getScreenshotProviderDetails"]),...A("provider",["CLEAR_PROVIDER_DETAIL"]),async openModal(s){this.idInstanceActive=s;try{this.CLEAR_PROVIDER_DETAIL(),$("#modal-xl").modal("show"),await this.getStatusProviderDetails({id_instance:s})}catch(t){console.error("Gagal ambil detail:",t)}},async refreshInstance(){this.CLEAR_PROVIDER_DETAIL(),await this.refreshProviderDetails({id_instance:this.idInstanceActive})},getQRInstance(){this.CLEAR_PROVIDER_DETAIL(),this.getQRProviderDetails({id_instance:this.idInstanceActive}).catch(s=>{console.log(s),this.$swal({icon:"error",title:"Oops...",text:s.data.message?s.data.message:"Something went wrong!"})})},async statusInstance(){this.CLEAR_PROVIDER_DETAIL(),await this.getStatusProviderDetails({id_instance:this.idInstanceActive}),await this.getDataProviderDetails(this.providerId)},async redeployInstance(){this.CLEAR_PROVIDER_DETAIL(),await this.redeployProviderDetails({id_instance:this.idInstanceActive})},async getScreenshotInstance(){this.CLEAR_PROVIDER_DETAIL(),await this.getScreenshotProviderDetails({id_instance:this.idInstanceActive})},async refreshPage(){this.CLEAR_PROVIDER_DETAIL(),await this.getDataProviderDetails(this.providerId)}}},S={class:"card"},w={class:"card-header"},T={class:"card-title"},V={key:0,class:"overlay dark"},M={class:"table table-hover text-nowrap table-striped"},O={class:"text-right"},N=["onClick"],Q={class:"card-footer clearfix"},H={class:"pagination pagination-sm m-0 float-right"},B=["onClick"],q={key:0},F={key:1},G={key:2},K=["innerHTML"],j={key:3},z=["innerHTML"];function J(s,t,U,W,X,o){var c,g;const b=h("router-link"),P=h("ModalProviderDetail");return n(),r(v,null,[e("div",S,[e("div",w,[e("h3",T,"Provider "+a((c=s.providers)==null?void 0:c.name),1),t[5]||(t[5]=l("   ")),m(b,{class:"btn bg-gradient-primary btn-sm",to:{name:"admins.providers.data.detail.insert",params:{id:(g=s.providers)==null?void 0:g.id}}},{default:f(()=>t[3]||(t[3]=[l("   "),e("i",{class:"fas fa-plus"},null,-1),l(" Create Data ")])),_:1},8,["to"]),t[6]||(t[6]=l("   ")),e("button",{class:"btn bg-gradient-success btn-sm",onClick:t[0]||(t[0]=(...i)=>o.refreshPage&&o.refreshPage(...i))},t[4]||(t[4]=[e("i",{class:"fas fa-refresh"},null,-1),l(" Refresh ")])),t[7]||(t[7]=k('<div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div>',1))]),e("div",{class:d(["card-body table-responsive p-0",{"overlay-wrapper":this.processing}])},[this.processing?(n(),r("div",V,t[8]||(t[8]=[e("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1)]))):u("",!0),e("table",M,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Nama"),e("th",null,"License Key"),e("th",null,"Info HP"),e("th",null,"Label"),e("th",null,"Deskripsi"),e("th",null,"Status"),e("th")])],-1)),e("tbody",null,[(n(!0),r(v,null,I(s.dataProviderDetails,(i,p)=>(n(),r("tr",{key:p,class:d(`provider_${i.id}`)},[e("td",null,a(p+1),1),e("td",null,a(i.name),1),e("td",null,a(i.license_key??"-"),1),e("td",null,a(i.info_hp??"-"),1),e("td",null,a(i.label??"-"),1),e("td",null,a(i.description??"-"),1),e("td",null,[e("span",{class:d(["badge",i.is_active?"badge-success":"badge-danger"])},a(i.is_active?"Active":"Disable"),3)]),e("td",O,[e("a",{class:"btn btn-primary btn-sm",href:"#",onClick:L(Y=>o.openModal(i.license_key),["prevent"])},t[9]||(t[9]=[e("i",{class:"fas fa-folder"},null,-1),l(" Info ")]),8,N)])],2))),128))])])],2),e("div",Q,[e("ul",H,[e("li",{class:d(["page-item",{disabled:s.pagination.current_page===1}])},[e("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=i=>s.getProviderDetails(s.pagination.current_page-1))}," « ")],2),(n(!0),r(v,null,I(s.pagination.last_page,i=>(n(),r("li",{key:i,class:d(["page-item",{active:i===s.pagination.current_page}])},[e("a",{class:"page-link",href:"#",onClick:p=>s.getProviderDetails(i)},a(i),9,B)],2))),128)),e("li",{class:d(["page-item",{disabled:s.pagination.current_page===s.pagination.last_page}])},[e("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=i=>s.getProviderDetails(s.pagination.current_page+1))},"»")],2)])])]),m(P,{id:"modal-xl",title:"Detail Provider",instanceId:this.idInstanceActive,onRefresh:o.refreshInstance,onQr:o.getQRInstance,onStatus:o.statusInstance,onRedeploy:o.redeployInstance,onScreenshot:o.getScreenshotInstance},{body:f(()=>{var i,p;return[s.providerDetails?(n(),r("div",q,[e("p",null,[t[11]||(t[11]=e("strong",null,"ID:",-1)),l(" "+a(s.providerDetails.provider_detail.id),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"License Key:",-1)),l(" "+a(s.providerDetails.provider_detail.license_key),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Label:",-1)),l(" "+a(s.providerDetails.provider_detail.label),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Status:",-1)),e("span",{class:d(["badge",s.providerDetails.provider_detail.is_active?"badge-success":"badge-danger"])},a(s.providerDetails.provider_detail.is_active?"Active":"Disable"),3)])])):(n(),r("div",F,t[15]||(t[15]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),l(" Loading... ")]))),(i=s.providerDetails)!=null&&i.qr_instance?(n(),r("div",G,[t[16]||(t[16]=e("p",null,[e("strong",null,"QR Instance:")],-1)),e("div",{innerHTML:s.providerDetails.qr_instance},null,8,K)])):u("",!0),(p=s.providerDetails)!=null&&p.ss_instance?(n(),r("div",j,[t[17]||(t[17]=e("p",null,[e("strong",null,"Screenshot Instance:")],-1)),e("div",{innerHTML:s.providerDetails.ss_instance},null,8,z)])):u("",!0)]}),_:1},8,["instanceId","onRefresh","onQr","onStatus","onRedeploy","onScreenshot"])],64)}const ee=y(C,[["render",J]]);export{ee as default};
